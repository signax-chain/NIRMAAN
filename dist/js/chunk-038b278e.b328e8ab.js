(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-038b278e"],{7914:function(t,e,n){},"79bd":function(t,e,n){"use strict";n("7914")},f302:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",{staticClass:"px-3 mt-3"},[n("v-col",{attrs:{cols:"12",md:"8"}},[n("h2",[t._v("Notes")])]),n("v-col",{attrs:{cols:"12",md:"4"}},[n("v-text-field",{attrs:{label:"Search notes","append-icon":"mdi-magnify",outlined:"",dense:""},on:{keyup:t.handleSearch}})],1)],1),n("div",{staticClass:"notes__row"},[n("div",{staticClass:"notes__col add__new",on:{click:function(e){return t.newNote()}}},[n("div",{staticClass:"inner__items"},[n("v-btn",{attrs:{icon:""}},[n("v-icon",{attrs:{color:"traktor",size:"48"}},[t._v("mdi-plus-circle")])],1),n("h2",[t._v("New Note")])],1)]),t._l(t.notes_,(function(e,o){return n("div",{key:o,staticClass:"notes__col"},[n("router-link",{attrs:{to:"/notes/"+e.docId}},[n("div",{staticClass:"contents",domProps:{innerHTML:t._s(t.getContents(e.notes[0]))}}),n("h6",{staticClass:"mx-4"},[t._v(t._s(e.startup.name))])]),n("div",{staticClass:"actions px-3 pb-2"},[n("span",[t._v("last updated on "+t._s(e.updatedAt.toDate().toDateString())+" at "+t._s(e.updatedAt.toDate().toLocaleTimeString("en-in",{hour:"2-digit",minute:"2-digit"}))+" by "+t._s(t.getAuthor(e)))]),n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,s=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:"",color:"black"}},"v-btn",s,!1),o),[n("v-icon",{attrs:{size:"28"}},[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[n("v-list",[n("v-list-item",{on:{click:function(n){return t.view(e.docId)}}},[n("v-list-item-title",[t._v("View")])],1),n("v-list-item",{on:{click:function(n){return t.edit(e.docId)}}},[n("v-list-item-title",[t._v("Edit")])],1),n("v-list-item",{on:{click:function(n){return t._delete(e.docId)}}},[n("v-list-item-title",[t._v("Delete")])],1)],1)],1)],1)],1)}))],2)],1)},s=[],r=(n("4de4"),n("4160"),n("caad"),n("b0c0"),n("b64b"),n("2532"),n("159b"),n("96cf"),n("1da1")),i=n("f722"),a=n("3d20"),c=n.n(a),u={name:"MyNotes",data:function(){return{notes:[],msn:!1,loaded:!1,notes_:[]}},created:function(){this.getNotes()},methods:{getAuthor:function(t){return t.user.docId===this.$store.state.user.currentUser.docId?"You":t.user.name},getNotes:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.$route.params,0===Object.keys(n).length?t.getNotesByUserId():t.getMentorshipNotes(n.id),t.loaded=!0;case 3:case"end":return e.stop()}}),e)})))()},getContents:function(t){return t.substring(0,500)+"..."},getNotesByUserId:function(){var t=this,e=this.$store.state.user.currentUser.role;this.msn=!1,"incubator"!==e&&"mentor"!==e||i["I"].where("incubatorId","==",this.$store.state.incubator.currentIncubator.docId).orderBy("updatedAt","desc").onSnapshot((function(e){t.notes=[],e.forEach((function(e){var n=e.data();n.docId=e.id,t.notes.push(n)})),t.notes_=t.notes}))},handleSearch:function(t){this.notes_=this.notes.filter((function(e){return e.startup.name.toLowerCase().includes(t.target.value.toLowerCase())}))},getMentorshipNotes:function(t){var e=this;this.msn=!0,i["I"].where("mentorshipId","==",t).onSnapshot((function(t){e.notes=[],t.forEach((function(t){var n=t.data();n.docId=t.id,e.notes.push(n)}))}))},view:function(t){this.$router.push("/notes/".concat(t))},edit:function(t){this.$router.push("/notes/".concat(t))},newNote:function(){this.$router.push("/notes/new")},_delete:function(t){var e=this;c.a.fire({title:"Are you sure?",showCancelButton:!0,confirmButtonColor:"#3aa959",cancelButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"No"}).then(function(){var n=Object(r["a"])(regeneratorRuntime.mark((function n(o){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!o.isConfirmed){n.next=10;break}return n.prev=1,n.next=4,i["I"].doc(t).delete();case 4:e.$toast.success("Deleted",{position:"top"}),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](1),e.$toast.error(n.t0,{position:"top"});case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(t){return n.apply(this,arguments)}}())}}},d=u,l=(n("79bd"),n("2877")),f=n("6544"),h=n.n(f),v=n("8336"),p=n("62ad"),m=n("132d"),_=n("8860"),b=n("da13"),w=n("5d23"),g=n("e449"),I=n("0fd9"),k=n("8654"),C=Object(l["a"])(d,o,s,!1,null,"1547f49e",null);e["default"]=C.exports;h()(C,{VBtn:v["a"],VCol:p["a"],VIcon:m["a"],VList:_["a"],VListItem:b["a"],VListItemTitle:w["c"],VMenu:g["a"],VRow:I["a"],VTextField:k["a"]})}}]);
//# sourceMappingURL=chunk-038b278e.b328e8ab.js.map