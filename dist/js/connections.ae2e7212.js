(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["connections"],{"0269":function(t,e,n){"use strict";n("4436")},"07fc":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-breadcrumbs",{attrs:{items:t.crumbs}}),n("h3",{staticClass:"heading"},[t._v("Connections")]),n("div",{staticClass:"wrapper mx-5"},[n("h3",{staticClass:"heading ml-0"},[t._v("All Connections")]),n("connections-comp")],1)],1)},o=[],c=n("99f2"),r={name:"Connections",components:{ConnectionsComp:c["a"]},data:function(){return{crumbs:[{text:"Dashboard",disabled:!0},{text:"Connections",disabled:!0}]}}},s=r,i=(n("3fb4"),n("2877")),l=n("6544"),u=n.n(l),d=n("2bc5"),b=Object(i["a"])(s,a,o,!1,null,"cf4d86c8",null);e["default"]=b.exports;u()(b,{VBreadcrumbs:d["a"]})},"1a3e":function(t,e,n){},"26ee":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-breadcrumbs",{attrs:{items:t.crumbs}}),n("h3",{staticClass:"heading"},[n("v-btn",{attrs:{icon:"",color:"traktor",to:"/contacts"}},[n("v-icon",[t._v("mdi-arrow-left")])],1),t._v(" My Connections ")],1),n("div",{staticClass:"connections-table"},[n("profile"),n("connections-comp",{staticClass:"mt-5"})],1)],1)},o=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("img",{staticClass:"d-block mx-auto",staticStyle:{"border-radius":"50%",height:"120px",width:"120px"},attrs:{src:t.currentUser.photoURL,alt:t.currentUser.name}}),n("h2",{staticClass:"text-center mt-1"},[t._v(t._s(t.currentUser.name))])])},r=[],s=n("5530"),i=n("2f62"),l={name:"Profile",computed:Object(s["a"])({},Object(i["b"])({currentUser:function(t){return t.user.currentUser}}))},u=l,d=(n("0269"),n("2877")),b=Object(d["a"])(u,c,r,!1,null,"10f6cc5c",null),f=b.exports,m=n("99f2"),v={name:"Connections",components:{Profile:f,ConnectionsComp:m["a"]},data:function(){return{crumbs:[{text:"Dashboard",disabled:!0},{text:"Contacts",disabled:!0},{text:"Connections",disabled:!0}]}}},p=v,h=(n("5cf0"),n("6544")),x=n.n(h),C=n("2bc5"),g=n("8336"),k=n("132d"),_=Object(d["a"])(p,a,o,!1,null,"d3a0e4ae",null);e["default"]=_.exports;x()(_,{VBreadcrumbs:C["a"],VBtn:g["a"],VIcon:k["a"]})},"3fb4":function(t,e,n){"use strict";n("1a3e")},4436:function(t,e,n){},"451f":function(t,e,n){"use strict";n("6b85")},"5cf0":function(t,e,n){"use strict";n("be24")},"6b85":function(t,e,n){},"99f2":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"connections__container"},[n("div",{staticClass:"table-actions d-flex justify-space-between"},[n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{outlined:"",dense:"",placeholder:"Search for connections","append-icon":"mdi-magnify"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),"incubator"===t.currentUser.role?n("v-col",{attrs:{cols:"12",md:"6"}},[n("div",{staticClass:"float-right"},[n("v-btn",{staticClass:"mr-2",attrs:{color:"traktor",dark:""},on:{click:function(e){return t.goto("/contacts")}}},[t._v("Contacts")]),n("v-btn",{attrs:{color:"traktor",dark:""},on:{click:function(e){return t.goto("/connections/new")}}},[t._v("Establish Connection")]),n("v-btn",{attrs:{color:"grey",text:"",dark:""},on:{click:function(e){t.connectionDialog=!0}}},[t._v("Add new Connection")])],1)]):t._e()],1),n("v-data-table",{staticClass:"mt-3",attrs:{headers:t.headers,items:t.connections,"mobile-breakpoint":"0",search:t.search},scopedSlots:t._u([{key:"item.contacts",fn:function(e){var a=e.item;return[n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,c=e.attrs;return[n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.copyToClipboard(a.contact.email)}}},[n("v-icon",t._g(t._b({attrs:{color:"black"}},"v-icon",c,!1),o),[t._v("mdi-email")])],1)]}}],null,!0)},[n("span",[t._v(t._s(a.contact.email))])]),n("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,c=e.attrs;return[n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.copyToClipboard(a.contact.phoneNumber)}}},[n("v-icon",t._g(t._b({attrs:{color:"black"}},"v-icon",c,!1),o),[t._v("mdi-phone")])],1)]}}],null,!0)},[n("span",[t._v(t._s(a.contact.phoneNumber))])])]}}],null,!0)}),n("create",{attrs:{visible:t.connectionDialog},on:{close:function(e){t.connectionDialog=!1}}})],1)},o=[],c=(n("4160"),n("159b"),n("96cf"),n("1da1")),r=n("5530"),s=n("f722"),i=n("2f62"),l=n("f904"),u=n.n(l),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{persistent:"","max-width":"800"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v(" Add new contact ")]),n("v-card-text",{staticClass:"mt-5"},[n("v-form",[n("v-row",[n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{label:"Name",outlined:"",dense:""},model:{value:t.contact.name,callback:function(e){t.$set(t.contact,"name",e)},expression:"contact.name"}})],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{label:"Designation",outlined:"",dense:""},model:{value:t.contact.designation,callback:function(e){t.$set(t.contact,"designation",e)},expression:"contact.designation"}})],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{label:"Organisation",outlined:"",dense:""},model:{value:t.contact.organisation,callback:function(e){t.$set(t.contact,"organisation",e)},expression:"contact.organisation"}})],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{label:"Connect For?",outlined:"",dense:""},model:{value:t.contact.connectFor,callback:function(e){t.$set(t.contact,"connectFor",e)},expression:"contact.connectFor"}})],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{label:"Contact Number",outlined:"",dense:""},model:{value:t.contact.phoneNumber,callback:function(e){t.$set(t.contact,"phoneNumber",e)},expression:"contact.phoneNumber"}})],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{label:"Email Address",outlined:"",dense:"",type:"email"},model:{value:t.contact.email,callback:function(e){t.$set(t.contact,"email",e)},expression:"contact.email"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){t.show=!1}}},[t._v(" Cancel ")]),n("v-btn",{staticClass:"white--text",attrs:{color:"traktor"},on:{click:function(e){return t.add()}}},[t._v(" Add ")])],1)],1)],1)},b=[],f=(n("7db0"),n("b0c0"),n("b64b"),{name:"Create",props:["visible"],computed:{show:{get:function(){return this.visible},set:function(t){if(!t)return this.$emit("close")}}},data:function(){return{contact:{name:null,designation:null,organisation:null,connectFor:null,phoneNumber:null,email:null}}},methods:{add:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Object.keys(t.contact).find((function(e){return null===t.contact[e]})),void 0===n){e.next=4;break}return t.$toast.error("All fields are required!...",{position:"top"}),e.abrupt("return");case 4:return t.contact.incubatorId=t.$store.state.incubator.currentIncubator.docId,t.contact.createdAt=new Date,a={createdAt:new Date,incubatorId:t.$store.state.incubator.currentIncubator.docId,notification:!1,type:"incubator",statement:"New contact ".concat(t.contact.name," have been added."),photoURL:t.$store.state.incubator.currentIncubator.photoURL},e.prev=7,e.next=10,s["e"].add(t.contact);case 10:return e.next=12,s["a"].add(a);case 12:t.$toast.success("New contact ".concat(t.contact.name," added succesfully"),{position:"top"}),t.dialog=!1,e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](7),t.$toast.error(e.t0,{position:"top"});case 19:case"end":return e.stop()}}),e,null,[[7,16]])})))()}}}),m=f,v=n("2877"),p=n("6544"),h=n.n(p),x=n("8336"),C=n("b0af"),g=n("99d9"),k=n("62ad"),_=n("169a"),w=n("4bd4"),$=n("0fd9"),V=n("2fa4"),y=n("8654"),I=Object(v["a"])(m,d,b,!1,null,"2a9b8e7a",null),O=I.exports;h()(I,{VBtn:x["a"],VCard:C["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:k["a"],VDialog:_["a"],VForm:w["a"],VRow:$["a"],VSpacer:V["a"],VTextField:y["a"]});var U={components:{Create:O},name:"ConnectionsComp",computed:Object(r["a"])({},Object(i["b"])({currentUser:function(t){return t.user.currentUser}},{currentIncubator:function(t){return t.incubator.currentIncubator}})),data:function(){return{headers:[{text:"Designation",align:"start",sortable:!0,value:"contact.designation"},{text:"Organisation",align:"start",sortable:!0,value:"contact.organisation"},{text:"Connected for",align:"start",sortable:!0,value:"contact.connectFor"},{text:"Contact",align:"start",sortable:!0,value:"contacts"}],connections:[],search:"",connectionDialog:!1}},created:function(){this.updateHeaders(),this.getConnections()},methods:{updateHeaders:function(){"incubator"===this.$store.state.user.currentUser.role?(this.headers.unshift({text:"Startup/ Mentor",align:"start",sortable:!0,value:"user.name"}),this.headers[1]={text:"Contact",align:"start",sortable:!0,value:"contact.name"}):this.headers.unshift({text:"Name",align:"start",sortable:!0,value:"contact.name"})},getConnections:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("incubator"!==t.$store.state.user.currentUser.role){e.next=7;break}return e.next=3,s["d"].where("incubatorId","==",t.$store.state.incubator.currentIncubator.docId).orderBy("createdAt","desc").get();case 3:n=e.sent,n.forEach((function(e){t.connections.push(e.data())})),e.next=11;break;case 7:return e.next=9,s["d"].where("user.docId","==",t.currentUser.docId).orderBy("createdAt","desc").get();case 9:a=e.sent,a.forEach((function(e){t.connections.push(e.data())}));case 11:case"end":return e.stop()}}),e)})))()},copyToClipboard:function(t){u()(t),this.$toast.success("Copied ".concat(t," to clipboard"),{position:"top"})},goto:function(t){this.$router.push(t)}}},j=U,D=(n("451f"),n("8fea")),A=n("132d"),N=n("3a2f"),E=Object(v["a"])(j,a,o,!1,null,"6a8f542b",null);e["a"]=E.exports;h()(E,{VBtn:x["a"],VCol:k["a"],VDataTable:D["a"],VIcon:A["a"],VTextField:y["a"],VTooltip:N["a"]})},be24:function(t,e,n){}}]);
//# sourceMappingURL=connections.ae2e7212.js.map