(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["contacts"],{"03cb":function(t,e,a){"use strict";a("abd9")},1893:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-breadcrumbs",{attrs:{items:t.crumbs}}),a("div",{staticClass:"d-flex justify-space-between mb-5"},[a("h3",{staticClass:"heading"},[t._v("Contacts")]),a("v-btn",{staticClass:"mr-5",attrs:{color:"traktor",dark:"",to:"/connections"}},[t._v("My Connections")])],1),a("div",{staticClass:"contacts-table mx-5"},[a("contacts-comp")],1)],1)},r=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contacts__container"},["startup"===t.currentUser.role?a("h3",{staticClass:"heading"},[t._v("Contacts")]):t._e(),a("v-data-table",{staticClass:"mt-3",attrs:{headers:t.headers,items:t.contacts,"mobile-breakpoint":"0"},scopedSlots:t._u([{key:"item.contacts",fn:function(e){var n=e.item;return[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.copyToClipboard(n.email)}}},[a("v-icon",t._g(t._b({attrs:{color:"black"}},"v-icon",o,!1),r),[t._v("mdi-email")])],1)]}}],null,!0)},[a("span",[t._v(t._s(n.email))])]),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.copyToClipboard(n.phoneNumber)}}},[a("v-icon",t._g(t._b({attrs:{color:"black"}},"v-icon",o,!1),r),[t._v("mdi-phone")])],1)]}}],null,!0)},[a("span",[t._v(t._s(n.phoneNumber))])])]}},{key:"item.connect",fn:function(e){var n=e.item;return[a("v-btn",{staticClass:"white--text",attrs:{color:"traktor"},on:{click:function(e){return t.connect(n)}}},[t._v("Connect")])]}},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({},"v-icon",r,!1),n),[t._v("mdi-dots-vertical")])]}}],null,!0)},[a("v-list",[a("v-list-item",{on:{click:function(e){return t.edit(n)}}},[a("v-list-item-title",[t._v(" Edit ")])],1),a("v-list-item",{on:{click:function(e){return t._delete(n.docId)}}},[a("v-list-item-title",[t._v(" Delete ")])],1)],1)],1)]}}],null,!0)}),a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"800"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" Edit Contact "),a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")]),a("v-btn",{staticClass:"white--text",attrs:{color:"traktor"},on:{click:function(e){return t.update()}}},[t._v(" Update ")])],1),a("v-card-text",{staticClass:"mt-5"},[a("v-form",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Name",outlined:"",dense:""},model:{value:t.contact.name,callback:function(e){t.$set(t.contact,"name",e)},expression:"contact.name"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Designation",outlined:"",dense:""},model:{value:t.contact.designation,callback:function(e){t.$set(t.contact,"designation",e)},expression:"contact.designation"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Organisation",outlined:"",dense:""},model:{value:t.contact.organisation,callback:function(e){t.$set(t.contact,"organisation",e)},expression:"contact.organisation"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Connect For?",outlined:"",dense:""},model:{value:t.contact.connectFor,callback:function(e){t.$set(t.contact,"connectFor",e)},expression:"contact.connectFor"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Contact Number",outlined:"",dense:""},model:{value:t.contact.phoneNumber,callback:function(e){t.$set(t.contact,"phoneNumber",e)},expression:"contact.phoneNumber"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Email Address",outlined:"",dense:"",type:"email"},model:{value:t.contact.email,callback:function(e){t.$set(t.contact,"email",e)},expression:"contact.email"}})],1)],1)],1)],1)],1)],1)],1)],1)},i=[],s=(a("99af"),a("7db0"),a("4160"),a("b0c0"),a("b64b"),a("159b"),a("96cf"),a("1da1")),c=a("f722"),l=a("3d20"),d=a.n(l),u=a("bc3a"),p=a.n(u),f=a("f904"),m=a.n(f),v={name:"ContactsComp",data:function(){return{dialog:!1,headers:[{text:"Name",align:"start",sortable:!0,value:"name"},{text:"Designation",align:"start",sortable:!0,value:"designation"},{text:"Organisation",align:"start",sortable:!0,value:"organisation"},{text:"Connect for",align:"start",sortable:!0,value:"connectFor"}],contacts:[],contact:[],currentUser:{}}},created:function(){this.getContacts(),this.updateHeaders(),this.updateCurrentUser()},methods:{updateCurrentUser:function(){var t=this.$store.state.user.currentUser;this.currentUser.role=t.role,"startup"===t.role&&(this.currentUser.title="Startup"),"mentor"===t.role&&(this.currentUser.title="Mentors")},getContacts:function(){var t=this;c["e"].where("incubatorId","==",this.$store.state.incubator.currentIncubator.docId).orderBy("createdAt","desc").onSnapshot((function(e){t.contacts=[],e.forEach((function(e){var a=e.data();a.docId=e.id,t.contacts.push(a)}))}))},updateHeaders:function(){var t=this.$store.state.user.currentUser.role;"incubator"===t&&(this.headers[1]={text:"Contact",align:"start",sortable:!0,value:"contacts"},this.headers.push({text:"Actions",align:"start",sortable:!0,value:"actions"})),"startup"!==t&&"mentor"!==t||this.headers.push({text:"",align:"start",sortable:!1,value:"connect"})},connect:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:d.a.fire({title:"Are you sure?",showCancelButton:!0,confirmButtonColor:"#3aa959",cancelButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"No"}).then(function(){var a=Object(s["a"])(regeneratorRuntime.mark((function a(n){var r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!n.isConfirmed){a.next=16;break}return r={incubatorId:e.$store.state.incubator.currentIncubator.docId,createdAt:new Date,startup:"startup"===e.currentUser.role?e.$store.state.user.currentUser:null,mentor:"mentor"===e.currentUser.role?e.$store.state.user.currentUser:null,contact:t,read:!1},o={createdAt:new Date,incubatorId:e.$store.state.incubator.currentIncubator.docId,notification:!0,type:"startup",startup:e.$store.state.user.currentUser,statement:"".concat(e.currentUser.title," ").concat(e.$store.state.user.currentUser.name," have requested for a new connection with contact ").concat(t.name,"."),photoURL:e.$store.state.user.currentUser.photoURL,read:!1},a.prev=3,a.next=6,c["c"].add(r);case 6:return a.next=8,p.a.post("https://traktor-api.herokuapp.com/sendMail",{from:{name:"The Startupreneur",email:"start@thestartupreneur.co"},to:{name:e.$store.state.incubator.currentIncubator.name,email:e.$store.state.incubator.currentIncubator.email},subject:"New Connection Request",content:'<body class="no-padding" style="margin: 0; padding: 0; -webkit-text-size-adjust: 100%;"><table class="wrapper" style="border-collapse: collapse; table-layout: fixed; min-width: 320px; width: 100%; background-color: #fff;" cellpadding="0" cellspacing="0" role="presentation"><tbody><tr><td><div><div class="layout one-col fixed-width" style="margin: 0 auto; max-width: 600px; min-width: 320px; width: 320px; width: calc(28000% - 167400px); overflow-wrap: break-word; word-wrap: break-word; word-break: break-word;" ><div class="layout__inner" style="border-collapse: collapse; display: table; width: 100%; background-color: #ffffff;"><div class="column" style="text-align: left; color: #8e959c; font-size: 14px; line-height: 21px; font-family: sans-serif; max-width: 600px; min-width: 320px; width: 320px; width: calc(28000% - 167400px);"><div style="margin-left: 20px; margin-right: 20px;"><div style="mso-line-height-rule: exactly; line-height: 50px; font-size: 1px; margin-left: 7%;"> &nbsp;</div></div><div style="margin-left: 20px; margin-right: 20px;"><div style="mso-line-height-rule: exactly; mso-text-raise: 4px;"></div></div></div></div></div><div style="line-height: 20px; font-size: 20px;">&nbsp;</div><div class="layout one-col fixed-width" style="margin: 0 auto; max-width: 600px; min-width: 320px; width: 320px; width: calc(28000% - 167400px); overflow-wrap: break-word; word-wrap: break-word; word-break: break-word;" ><div class="layout__inner" style="border-collapse: collapse; display: table; width: 100%; background-color: #fff;"><div class="column" style="text-align: left; color: #8e959c; font-size: 14px; line-height: 21px; font-family: sans-serif; max-width: 600px; min-width: 320px; width: 320px; width: calc(28000% - 167400px);"><div style=""><div style="mso-line-height-rule: exactly; mso-text-raise: 4px; margin-left: 7%;"><h3 class="size-16" style="margin-top: 0; margin-bottom: 0; font-style: normal; font-weight: normal; color: #000000; font-size: 16px; line-height: 24px; font-family: arial, sans-serif;" lang="x-size-16" > <span class="font-arial">Dear '.concat(e.$store.state.incubator.currentIncubator.name,',</span></h3><p style="margin-top: 12px; margin-bottom: 0;"><span style="color: #000000; font-size: 16px;">Hope you are doing well. This is to inform you that startup ').concat(e.$store.state.user.currentUser.name," has requested for a new connection with the contact ").concat(t.name,'. </span></p></div></div></div></div></div><div class="layout one-col fixed-width" style="margin: 0 auto; max-width: 600px; min-width: 320px; width: 320px; width: calc(28000% - 167400px); overflow-wrap: break-word; word-wrap: break-word; word-break: break-word;" ><div class="layout__inner" style="border-collapse: collapse; display: table; width: 100%; background-color: #fff;"><div class="column" style="text-align: left; margin-left: 8%; color: #8e959c; font-size: 14px; line-height: 21px; font-family: sans-serif; max-width: 600px; min-width: 320px; width: 320px; width: calc(28000% - 167400px);" ></div></div></div><div style="line-height: 20px; font-size: 20px;">&nbsp;</div><div class="layout one-col fixed-width" style="margin: 0 auto; max-width: 600px; min-width: 320px; width: 320px; width: calc(28000% - 167400px); overflow-wrap: break-word; word-wrap: break-word; word-break: break-word;" ><div class="layout__inner" style="border-collapse: collapse; display: table; width: 100%; background-color: #ffffff;"><div class="column" style="text-align: left; color: #8e959c; font-size: 14px; margin-left: 8%; line-height: 21px; font-family: sans-serif; max-width: 600px; min-width: 320px; width: 320px; width: calc(28000% - 167400px);" ></div></div><div style="line-height: 20px; font-size: 20px;">&nbsp;</div><div role="contentinfo"><div class="layout email-footer" style="margin: 0 auto; max-width: 600px; min-width: 320px; width: 320px; width: calc(28000% - 167400px); overflow-wrap: break-word; word-wrap: break-word; word-break: break-word;" ><div class="layout__inner" style="border-collapse: collapse; display: table; width: 100%;"><div class="column wide" style="text-align: left; font-size: 12px; line-height: 19px; color: #adb3b9; font-family: sans-serif; float: left; max-width: 400px; min-width: 320px; width: 320px; width: calc(8000% - 47600px);" ><div style="margin-left: 20px; margin-right: 20px; margin-top: 10px; margin-bottom: 10px;"><div style="font-size: 14px; line-height: 19px; margin-left: 7%;"><div>Regards,</div></div><div style="font-size: 14px; line-height: 19px; margin-top: 18px; margin-left: 7%;"><div>The Startupreneur</div></div></div></div></div></div></div></div></div></td></tr></tbody></table></body>')});case 8:return a.next=10,c["a"].add(o);case 10:e.$toast.success("Request sent to incubator. Please wait for the incubator reply.",{position:"top"}),a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](3),e.$toast.error(a.t0,{position:"top"});case 16:case"end":return a.stop()}}),a,null,[[3,13]])})));return function(t){return a.apply(this,arguments)}}());case 1:case"end":return a.stop()}}),a)})))()},edit:function(t){this.contact=t,this.dialog=!0},update:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=Object.keys(t.contact).find((function(e){return""===t.contact[e]})),void 0===a){e.next=4;break}return t.$toast.error("All fields are required!...",{position:"top"}),e.abrupt("return");case 4:return e.prev=4,e.next=7,c["e"].doc(t.contact.docId).set(t.contact,{merge:!0});case 7:t.$toast.success("Updated",{position:"top"}),t.dialog=!1,t.contact=[],e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](4),t.$toast.error(e.t0,{position:"top"});case 15:case"end":return e.stop()}}),e,null,[[4,12]])})))()},_delete:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:d.a.fire({title:"Are you sure?",showCancelButton:!0,confirmButtonColor:"#3aa959",cancelButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"No"}).then(function(){var a=Object(s["a"])(regeneratorRuntime.mark((function a(n){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!n.isConfirmed){a.next=10;break}return a.prev=1,a.next=4,c["e"].doc(t).delete();case 4:e.$toast.success("Deleted",{position:"top"}),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](1),e.$toast.error(a.t0,{position:"top"});case 10:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(t){return a.apply(this,arguments)}}());case 1:case"end":return a.stop()}}),a)})))()},copyToClipboard:function(t){m()(t),this.$toast.success("Copied ".concat(t," to clipboard"),{position:"top"})}}},h=v,b=(a("03cb"),a("2877")),x=a("6544"),w=a.n(x),g=a("8336"),y=a("b0af"),k=a("99d9"),C=a("62ad"),_=a("8fea"),$=a("169a"),U=a("4bd4"),V=a("132d"),I=a("8860"),z=a("da13"),R=a("5d23"),T=a("e449"),B=a("0fd9"),j=a("2fa4"),N=a("8654"),D=a("3a2f"),O=Object(b["a"])(h,o,i,!1,null,"b7a769c2",null),S=O.exports;w()(O,{VBtn:g["a"],VCard:y["a"],VCardText:k["b"],VCardTitle:k["c"],VCol:C["a"],VDataTable:_["a"],VDialog:$["a"],VForm:U["a"],VIcon:V["a"],VList:I["a"],VListItem:z["a"],VListItemTitle:R["c"],VMenu:T["a"],VRow:B["a"],VSpacer:j["a"],VTextField:N["a"],VTooltip:D["a"]});var A={name:"Contacts",components:{ContactsComp:S},data:function(){return{crumbs:[{text:"Dashboard",disabled:!0},{text:"Contacts",disabled:!0}]}}},F=A,E=(a("62ab"),a("2bc5")),q=Object(b["a"])(F,n,r,!1,null,"6d22eaa4",null);e["default"]=q.exports;w()(q,{VBreadcrumbs:E["a"],VBtn:g["a"]})},"53ca8":function(t,e,a){},"62ab":function(t,e,a){"use strict";a("53ca8")},abd9:function(t,e,a){}}]);
//# sourceMappingURL=contacts.e9efcca7.js.map