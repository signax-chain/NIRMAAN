(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["addnewsmentor"],{"0077":function(e,t,n){"use strict";n("0d3f")},"0d3f":function(e,t,n){},"4c3a":function(e,t,n){},"99c6":function(e,t,n){"use strict";n("4c3a")},fda5:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{staticClass:"top__header"},[n("v-col",{staticClass:"d-flex",attrs:{cols:"12"}},[n("h2",{staticClass:"white--text"},[e._v("Add new mentor")])])],1),n("v-card",[n("form-wizard",{attrs:{color:"#3AA95A",title:"Add New Startup",subtitle:"",finishButtonText:"Submit"},on:{"on-complete":e.onComplete}},[n("tab-content",{attrs:{title:"Description",icon:"ti-comments"}},[n("v-row",[n("v-col",{attrs:{cols:"12",md:"12"}},[n("v-text-field",{attrs:{outlined:"",label:"Name of the mentor",dense:""},model:{value:e.mentor.name,callback:function(t){e.$set(e.mentor,"name",t)},expression:"mentor.name"}})],1),n("v-col",{attrs:{cols:"12",md:"2"}},[n("v-img",{staticClass:"logo",attrs:{src:e.mentor.photoURL}})],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-file-input",{attrs:{label:"Choose logo",outlined:""},on:{change:function(t){return e.preview()}},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}})],1),n("v-col",{attrs:{cols:"12",md:"12"}},[n("v-textarea",{attrs:{label:"Description",outlined:""},model:{value:e.mentor.description,callback:function(t){e.$set(e.mentor,"description",t)},expression:"mentor.description"}})],1)],1)],1),n("tab-content",{attrs:{title:"Professional",icon:"ti-info-alt"}},[n("v-row",[n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{outlined:"",label:"Years of Experience",dense:""},model:{value:e.mentor.yearOfExperience,callback:function(t){e.$set(e.mentor,"yearOfExperience",t)},expression:"mentor.yearOfExperience"}})],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-autocomplete",{attrs:{outlined:"",label:"Area of Expertise",dense:"",multiple:"",items:e.areas},on:{change:e.handleArea},model:{value:e.mentor.areaOfExpertise,callback:function(t){e.$set(e.mentor,"areaOfExpertise",t)},expression:"mentor.areaOfExpertise"}})],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{outlined:"",label:"Current Designation",dense:""},model:{value:e.mentor.designation,callback:function(t){e.$set(e.mentor,"designation",t)},expression:"mentor.designation"}})],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{outlined:"",label:"Institution",dense:""},model:{value:e.mentor.institution,callback:function(t){e.$set(e.mentor,"institution",t)},expression:"mentor.institution"}})],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{outlined:"",label:"Qualification",dense:""},model:{value:e.mentor.qualification,callback:function(t){e.$set(e.mentor,"qualification",t)},expression:"mentor.qualification"}})],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{outlined:"",label:"Year of passing out",dense:""},on:{keypress:e.readOnlyNumbers},model:{value:e.mentor.yearOfPassing,callback:function(t){e.$set(e.mentor,"yearOfPassing",t)},expression:"mentor.yearOfPassing"}})],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-autocomplete",{attrs:{outlined:"",label:"Startups Associated",dense:"",multiple:"",chips:"",items:e.startups,"item-text":"name"},model:{value:e.selectedStartups,callback:function(t){e.selectedStartups=t},expression:"selectedStartups"}})],1)],1)],1),n("tab-content",{attrs:{title:"Contact",icon:"ti-settings"}},[n("v-row",[n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{outlined:"",label:"Contact Number",dense:""},on:{keypress:e.readOnlyNumbers},model:{value:e.mentor.phoneNumber,callback:function(t){e.$set(e.mentor,"phoneNumber",t)},expression:"mentor.phoneNumber"}})],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{outlined:"",label:"Email Address",type:"email",dense:""},model:{value:e.mentor.email,callback:function(t){e.$set(e.mentor,"email",t)},expression:"mentor.email"}})],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{outlined:"",label:"LinkedIn ID",dense:""},model:{value:e.mentor.socialLinks.linkedIn,callback:function(t){e.$set(e.mentor.socialLinks,"linkedIn",t)},expression:"mentor.socialLinks.linkedIn"}})],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{outlined:"",label:"Password",dense:""},model:{value:e.mentor.password,callback:function(t){e.$set(e.mentor,"password",t)},expression:"mentor.password"}})],1)],1)],1)],1)],1),n("AddNewAreaOfExpertise",{attrs:{visible:e.addNewAreaModal},on:{close:function(t){e.addNewAreaModal=!1},addNewArea:e.addNewArea}})],1)},r=[],o=(n("99af"),n("7db0"),n("4160"),n("a15b"),n("a434"),n("b0c0"),n("d3b7"),n("ac1f"),n("3ca3"),n("1276"),n("498a"),n("159b"),n("ddb0"),n("2b3d"),n("53ca")),s=(n("96cf"),n("1da1")),i=n("2591"),c=n("f722"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v(" Add new "),n("v-spacer"),n("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.show=!1}}},[e._v(" Cancel ")]),n("v-btn",{staticClass:"white--text",attrs:{color:"traktor"},on:{click:function(t){return e.add()}}},[e._v(" Add ")])],1),n("v-card-text",[n("v-text-field",{attrs:{outlined:"",label:"Add new"},model:{value:e.area,callback:function(t){e.area=t},expression:"area"}})],1)],1)],1)},d=[],u={name:"AddNewAreaOfExpertise",props:["visible"],data:function(){return{area:""}},computed:{show:{get:function(){return this.visible},set:function(e){e||this.$emit("close")}}},methods:{add:function(){""!==this.area?this.$emit("addNewArea",this.area):this.$toast.error("Area cannot be empty!",{position:"top"})}}},m=u,p=(n("99c6"),n("2877")),f=n("6544"),h=n.n(f),v=n("8336"),b=n("b0af"),w=n("99d9"),x=n("169a"),g=n("2fa4"),A=n("8654"),k=Object(p["a"])(m,l,d,!1,null,"5d9607f3",null),O=k.exports;h()(k,{VBtn:v["a"],VCard:b["a"],VCardText:w["b"],VCardTitle:w["c"],VDialog:x["a"],VSpacer:g["a"],VTextField:A["a"]});var $=n("ec29"),R={name:"AddNewStartup",components:{AddNewAreaOfExpertise:O},mixins:[$["a"]],data:function(){return{mentor:{docId:null,name:null,designation:null,institution:null,qualification:null,description:null,email:null,photoURL:"https://firebasestorage.googleapis.com/v0/b/ims-traktor.appspot.com/o/Logos%2Fmentors%2Fnoun_person_2417851.png?alt=media&token=43ff7ae6-9a45-4540-9852-8713dd91d8b0",incubatorId:null,startupsAssociated:[],phoneNumber:null,yearOfExperience:null,yearOfPassing:null,status:"active",socialLinks:{linkedIn:null,website:null},areaOfExpertise:[],createdAt:null,lastLogin:null,isDeleted:!1,password:null},image:null,selectedStartups:[],startups:[],areas:["Business Model","General Management","HR/Team","Marketing & Sales","Operations","Project Management","Pricing","Scale Up","Strategy","Technology","Valuation/Funding","Finance","Add new +"],addNewAreaModal:!1}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.mentor.password=e.$store.state.user.currentUser.name.toLowerCase().split(" ").join(""),t.next=3,c["Q"].where("incubatorId","==",e.$store.state.user.currentUser.docId).where("isDeleted","==",!1).get();case 3:n=t.sent,n.forEach((function(t){var n=t.data();t.exists&&e.startups.push({id:n.docId,name:n.name})}));case 5:case"end":return t.stop()}}),t)})))()},methods:{handleArea:function(e){"Add new +"===e[e.length-1]&&(this.addNewAreaModal=!0)},addNewArea:function(e){this.areas.splice(this.areas.length-1,0,e).join(),this.mentor.areaOfExpertise[this.mentor.areaOfExpertise.length-1]=e,this.addNewAreaModal=!1},onComplete:function(){var e=this;this.mentor.incubatorId=this.$store.state.user.currentUser.docId,this.mentor.createdAt=new Date,null!==this.mentor.email&&""!==this.mentor.email?null===this.mentor.password||this.mentor.password.length<6?this.$store.dispatch("SHOW_SNACKBAR",{showing:!0,text:"Password must be 6 characters long!",color:"error"}):(this.$store.dispatch("SHOW_LOADER",{isShowing:!0}),this.selectedStartups.forEach((function(t){var n=e.startups.find((function(e){return e.name===t}));e.mentor.startupsAssociated.push(n)})),i["a"].auth().createUserWithEmailAndPassword(this.mentor.email.trim(),this.mentor.password).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){var a,r,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.mentor.docId=n.user.uid,"object"!==Object(o["a"])(e.image)||null===e.image){t.next=6;break}a=i["a"].storage().ref().child("Logos/mentors/".concat(Date.now(),"_file")).put(e.image),a.on("state_changed",(function(e){console.log(e)}),(function(e){console.error(e)}),Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.snapshot.ref.getDownloadURL();case 2:return e.mentor.photoURL=t.sent,t.next=5,c["D"].doc(e.mentor.docId).set(e.mentor);case 5:n=t.sent,e.mentor.startupsAssociated.forEach(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["Q"].doc(a.id).get();case 2:return r=t.sent,o=r.data(),o.mentorsAssociated.push({id:n.id,name:e.mentor.name}),t.next=7,c["Q"].doc(a.id).set(o,{merge:!0});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.$store.dispatch("SHOW_LOADER",{isShowing:!1}),e.$store.dispatch("SHOW_SNACKBAR",{showing:!0,text:"Added",color:"success"}),r={incubatorId:e.$store.state.user.currentUser.docId,statement:"Mentor ".concat(e.mentor.name," joined ").concat(e.$store.state.incubator.currentIncubator.name," on ").concat(e.mentor.createdAt),mentor:e.mentor,createdAt:new Date,type:"mentor",notification:!1,photoURL:e.mentor.photoURL},c["a"].add(r),e.$router.push("/mentors");case 12:case"end":return t.stop()}}),t)})))),t.next=15;break;case 6:return t.next=8,c["D"].doc(e.mentor.docId).set(e.mentor);case 8:r=t.sent,e.mentor.startupsAssociated.forEach(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["Q"].doc(n.id).get();case 2:return a=t.sent,o=a.data(),o.mentorsAssociated.push({id:r.id,name:e.mentor.name}),t.next=7,c["Q"].doc(n.id).set(o,{merge:!0});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.$store.dispatch("SHOW_LOADER",{isShowing:!1}),e.$store.dispatch("SHOW_SNACKBAR",{showing:!0,text:"Added",color:"success"}),l={incubatorId:e.$store.state.user.currentUser.docId,statement:"Mentor ".concat(e.mentor.name," joined ").concat(e.$store.state.incubator.currentIncubator.name," on ").concat(e.mentor.createdAt),mentor:e.mentor,createdAt:new Date,type:"mentor",notification:!1,photoURL:e.mentor.photoURL},c["a"].add(l),e.$router.push("/mentors");case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$store.dispatch("SHOW_LOADER",{isShowing:!1}),e.$store.dispatch("SHOW_SNACKBAR",{showing:!0,text:t.message,color:"error"})}))):this.$toast.error("Email cannot be empty",{position:"top"})},preview:function(){this.mentor.photoURL=URL.createObjectURL(this.image)}}},S=R,E=(n("0077"),n("c6a6")),N=n("62ad"),I=n("a523"),C=n("23a7"),L=n("adda"),y=n("0fd9"),_=n("a844"),D=Object(p["a"])(S,a,r,!1,null,"cccd998a",null);t["default"]=D.exports;h()(D,{VAutocomplete:E["a"],VCard:b["a"],VCol:N["a"],VContainer:I["a"],VFileInput:C["a"],VImg:L["a"],VRow:y["a"],VTextField:A["a"],VTextarea:_["a"]})}}]);
//# sourceMappingURL=addnewsmentor.613d2dd6.js.map